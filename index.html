<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3331316001689042" crossorigin="anonymous"></script>
    
    <title>PrintMyBingo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;700&family=Fredoka+One&display=swap" rel="stylesheet">
    
    <style>
        :root { --header-color: #1d4ed8; }
        body { font-family: 'Heebo', sans-serif; background-color: #f3f4f6; }
        .logo-text {
            font-family: 'Fredoka One', cursive;
            background: linear-gradient(to right, #1d4ed8, #60a5fa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -1px;
        }
        .nav-links { display: flex; gap: 1.2rem; }
        .nav-link { color: #4b5563; transition: color 0.2s; font-weight: 400; font-size: 0.9rem; border: none; background: none; cursor: pointer; }
        .nav-link.active { color: #1d4ed8; font-weight: 700; }
        #output-container { display: grid; grid-template-columns: 1fr; gap: 24px; width: 100%; justify-items: center; }
        @media (min-width: 1024px) { #output-container { grid-template-columns: repeat(2, 1fr); } }
        .bingo-card { border: 3px solid #1f2937; border-radius: 12px; background: white; width: 100%; max-width: 450px; overflow: hidden; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        .bingo-table { width: 100%; border-collapse: collapse; table-layout: fixed; direction: ltr; }
        .bingo-table th, .bingo-table td { border: 1px solid #d1d5db; text-align: center; height: 60px; font-size: 1.2rem; font-weight: 700; }
        .bingo-table th { color: white !important; background-color: var(--header-color) !important; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
        .free-cell { background-color: #fca5a5 !important; color: #b91c1c !important; -webkit-print-color-adjust: exact; print-color-adjust: exact; font-size: 0.9rem; }
        .page-section { display: none; }
        .active-section { display: block; }
        select:disabled { background-color: #e5e7eb; cursor: not-allowed; opacity: 0.6; }

        @media print {
            body { background: white; margin: 0; padding: 0; }
            .no-print { display: none !important; }
            #output-container { display: block !important; width: 100%; margin: 0; padding: 0; }
            .bingo-card { box-shadow: none; border: 2px solid black !important; margin-left: auto; margin-right: auto; page-break-inside: avoid; }
            .print-1 .bingo-card { max-width: 80%; margin-top: 50px; page-break-after: always; }
            .print-2 .bingo-card { max-width: 70%; margin-bottom: 30px; margin-top: 20px; }
            .print-4 #output-container { display: grid !important; grid-template-columns: 1fr 1fr; gap: 10mm; }
            .print-4 .bingo-card { max-width: 95%; font-size: 0.8em; }
            .print-4 .bingo-table th, .print-4 .bingo-table td { height: 45px; font-size: 1rem; }
        }
    </style>
</head>
<body>

    <nav class="bg-white shadow-sm no-print mb-4">
        <div class="max-w-7xl mx-auto px-4 flex justify-between items-center h-16">
            <div class="nav-links">
                <button onclick="showSection('main')" id="nav-main" class="nav-link active" data-i18n="navHome">בית</button>
                <button onclick="showSection('about')" id="nav-about" class="nav-link" data-i18n="navAbout">אודות</button>
                <button onclick="showSection('terms')" id="nav-terms" class="nav-link" data-i18n="navTerms">תנאי שימוש</button>
                <button onclick="showSection('contact')" id="nav-contact" class="nav-link" data-i18n="navContact">צור קשר</button>
            </div>
            <button id="lang-button" onclick="toggleLanguage()" class="text-sm px-4 py-1 border border-gray-300 rounded-md hover:bg-gray-50 transition">English</button>
        </div>
    </nav>

    <div class="max-w-6xl mx-auto p-4">
        <div class="text-center mb-8 no-print">
            <h1 class="text-5xl md:text-6xl font-bold logo-text py-2">Print My Bingo</h1>
            <p class="text-gray-500 text-sm md:text-base mt-2" data-i18n="tagline">הדרך הקלה ליצירת כרטיסי בינגו להדפסה</p>
        </div>

        <div id="section-main" class="page-section active-section">
            <p id="initial-message" class="text-center text-lg text-blue-800 font-medium mb-4 no-print" data-i18n="initialMessage">בחר הגדרות ולחץ על "צור כרטיסי בינגו" כדי להתחיל.</p>

            <div class="bg-white p-6 md:p-8 rounded-2xl shadow-xl mb-10 no-print max-w-4xl mx-auto">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-2" data-i18n="boardSizeLabel">גודל הטבלה</label>
                        <select id="boardSize" onchange="handleBoardSizeChange()" class="w-full p-3 border rounded-xl bg-gray-50">
                            <option value="5">5x5</option>
                            <option value="4">4x4</option>
                            <option value="3">3x3</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-2" data-i18n="emptyCardsLabel">כרטיסיות ריקות</label>
                        <select id="emptyCardsOption" onchange="toggleMaxNumberInput()" class="w-full p-3 border rounded-xl bg-gray-50">
                            <option value="no" data-i18n="no">לא</option>
                            <option value="yes" data-i18n="yes">כן</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-2" data-i18n="maxNumberLabel">טווח מספרים (1-90)</label>
                        <input type="number" id="maxNumberInput" value="90" min="25" max="90" class="w-full p-3 border rounded-xl bg-gray-50">
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-2" data-i18n="centerOptionLabel">משבצת מרכזית</label>
                        <select id="centerOption" class="w-full p-3 border rounded-xl bg-gray-50">
                            <option value="free">FREE</option>
                            <option value="number" data-i18n="centerOptionNumber">מספר רגיל</option>
                            <option value="blank" data-i18n="centerOptionBlank">ריק</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-2" data-i18n="totalCardsLabel">סה"כ כרטיסים</label>
                        <input type="number" id="totalCards" value="10" min="1" max="150" class="w-full p-3 border rounded-xl bg-gray-50">
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-2" data-i18n="cardsPerPageLabel">כרטיסים בעמוד</label>
                        <select id="cardsPerPage" onchange="updatePrintLayout()" class="w-full p-3 border rounded-xl bg-gray-50">
                            <option value="2">2</option>
                            <option value="1">1</option>
                            <option value="4">4</option>
                        </select>
                    </div>
                </div>

                <div class="mt-8">
                    <label class="block text-sm font-bold text-gray-700 mb-4" data-i18n="columnTitlesLabel">כותרות עמודות</label>
                    <div id="columnInputsContainer" class="grid grid-cols-5 gap-4" style="direction: ltr;"></div>
                </div>

                <div class="mt-8">
                    <label class="block text-sm font-bold text-gray-700 mb-2" data-i18n="headerColorLabel">צבע כותרת</label>
                    <input type="color" id="headerColor" value="#1d4ed8" onchange="updateGlobalColor(this.value)" class="w-full h-12 p-1 border rounded-xl cursor-pointer">
                </div>

                <div class="flex flex-col md:flex-row gap-4 mt-10">
                    <button onclick="generateAllCards()" class="flex-1 bg-green-600 text-white py-4 rounded-xl font-bold text-xl hover:bg-green-700 shadow-lg transition" data-i18n="generateButton">צור כרטיסי בינגו</button>
                    <button onclick="resetSettings()" class="bg-gray-400 text-white px-8 py-4 rounded-xl font-bold hover:bg-gray-500" data-i18n="resetButton">איפוס</button>
                </div>
            </div>

            <div id="result-anchor" class="no-print"></div>
            <div id="print-controls" class="hidden no-print text-center mb-10 pt-4">
                <button onclick="window.print()" class="bg-blue-600 text-white px-10 py-4 rounded-full font-bold text-lg shadow-xl hover:bg-blue-700" data-i18n="printButton">הדפסה / שמירה כ-PDF</button>
            </div>
            <div id="output-container"></div>

            <div class="mt-20 p-8 bg-white rounded-2xl border border-gray-100 no-print shadow-sm max-w-4xl mx-auto">
                <h2 class="text-2xl font-bold mb-4" data-i18n="seoTitle">מדריך: איך ליצור ולהדפיס משחק בינגו בקלות?</h2>
                <div id="seo-content-area" class="text-gray-600 leading-relaxed space-y-4"></div>
            </div>
        </div>

        <div id="section-about" class="page-section bg-white p-10 rounded-2xl shadow-lg max-w-4xl mx-auto">
            <h2 class="text-3xl font-bold mb-6 text-blue-800" data-i18n="aboutTitle">אודות</h2>
            <div id="about-content-area" class="text-gray-700 leading-loose space-y-6"></div>
        </div>

        <div id="section-terms" class="page-section bg-white p-10 rounded-2xl shadow-lg max-w-4xl mx-auto">
            <h2 class="text-3xl font-bold mb-6 text-blue-800" data-i18n="termsTitle">תנאי שימוש</h2>
            <div id="terms-content-area" class="text-gray-700 leading-loose space-y-6"></div>
        </div>

        <div id="section-contact" class="page-section bg-white p-10 rounded-2xl shadow-lg text-center max-w-4xl mx-auto">
            <h2 class="text-3xl font-bold mb-6 text-blue-800" data-i18n="contactTitle">צור קשר</h2>
            <div id="contact-content-area" class="text-gray-700 space-y-4"></div>
        </div>
    </div>

    <footer class="mt-20 bg-white border-t py-10 no-print text-center">
        <p class="text-gray-400 text-sm">created by havivon © 2024</p>
    </footer>

    <script>
        const TRANSLATIONS = {
            he: {
                tagline: 'הדרך הקלה ליצירת כרטיסי בינגו להדפסה',
                navHome: 'בית', navAbout: 'אודות', navTerms: 'תנאי שימוש', navContact: 'צור קשר',
                boardSizeLabel: 'גודל הטבלה', emptyCardsLabel: 'כרטיסיות ריקות', no: 'לא', yes: 'כן',
                maxNumberLabel: 'טווח מספרים (1-90)', centerOptionLabel: 'משבצת מרכזית',
                centerOptionNumber: 'מספר רגיל', centerOptionBlank: 'ריק', totalCardsLabel: 'סה"כ כרטיסים',
                cardsPerPageLabel: 'כרטיסים בעמוד', headerColorLabel: 'צבע כותרת',
                columnTitlesLabel: 'כותרות עמודות', generateButton: 'צור כרטיסי בינגו',
                resetButton: 'איפוס', printButton: 'הדפסה / שמירה כ-PDF',
                initialMessage: 'בחר הגדרות ולחץ על "צור כרטיסי בינגו" כדי להתחיל.',
                seoTitle: 'מדריך: איך ליצור ולהדפיס משחק בינגו בקלות?',
                seoContent: `<p>משחק הבינגו הוא אחד המשחקים הקלאסיים והאהובים ביותר בעולם, המתאים לכל גיל - מילדים בגן ועד למבוגרים באירועי חברה. הכלי החינמי שלנו, PrintMyBingo, פותח במטרה לאפשר לכם ליצור כרטיסיות משחק מעוצבות ומותאמות אישית תוך שניות, ללא צורך בידע טכני או בהורדת תוכנה.</p>
                             <h3 class="font-bold text-lg mt-4 text-gray-800">למה להשתמש במחולל הבינגו שלנו?</h3>
                             <p>בעוד שניתן לקנות משחקי בינגו מוכנים בחנויות, יצירת משחק מותאם אישית משדרגת את החוויה. המערכת שלנו מאפשרת שליטה מלאה על מאפייני המשחק: בחירת גודל הלוח (3x3 לקטנטנים, 4x4 לבינוניים ו-5x5 למשחק המקצועי), הגדרת טווח המספרים בהתאם לרמת הקושי, ואפילו שינוי הכותרות בראש הטבלה לשמות הילדים, נושאי השיעור או כל מילה אחרת.</p>
                             <h3 class="font-bold text-lg mt-4 text-gray-800">שלבים ליצירת המשחק:</h3>
                             <ul class="list-disc list-inside space-y-1">
                                <li>בחרו את גודל הלוח הרצוי (לדוגמה 5x5).</li>
                                <li>הגדירו את כמות הכרטיסים שתרצו להפיק (המערכת דואגת שכל כרטיס יהיה ייחודי).</li>
                                <li>לחצו על "צור כרטיסי בינגו" וצפו בתוצאה המיידית.</li>
                                <li>הדפיסו את הלוחות ישירות מהדפדפן או שמרו כקובץ PDF לשליחה.</li>
                             </ul>
                             <p class="mt-4">האתר שלנו מותאם במיוחד למורים, גננות, הורים ומפיקי אירועים המחפשים פתרון מהיר, אסתטי וחינמי לפעילות חברתית מגבשת. אנחנו דואגים שהעיצוב יהיה נקי ונוח להדפסה ביתית חסכונית בדיו.</p>`,
                aboutTitle: 'אודות PrintMyBingo',
                aboutContent: `<p>ברוכים הבאים ל-PrintMyBingo, הפלטפורמה המובילה והמתקדמת בישראל ליצירת משחקי חברה וכרטיסיות בינגו להדפסה. המשימה שלנו היא לפשט את תהליך הכנת הפעילויות החברתיות ולהפוך אותו לנגיש, מהיר ומהנה עבור כולם.</p>
                               <p>האתר נולד מתוך צורך אמיתי של אנשי חינוך והורים בכלי פשוט שלא דורש הרשמה או תשלום, אך עדיין מספק תוצאה מקצועית. אנו גאים לספק שירות לאלפי משתמשים המפיקים כרטיסיות לשיעורים בבתי ספר, מסיבות ימי הולדת, ערבי גיבוש לעובדים ופעילויות משפחתיות.</p>
                               <p>האלגוריתם שפיתחנו מבטיח אקראיות מוחלטת ("רנדומליות") בבניית הלוחות, כך שהסיכוי לכרטיסים זהים שואף לאפס, מה שמבטיח משחק הוגן ומותח לכל המשתתפים. אנו ממשיכים לשדרג את המערכת בהתאם למשובים שלכם ולצרכים המשתנים של הקהל.</p>`,
                termsTitle: 'תנאי שימוש',
                termsContent: `<p>ברוכים הבאים לאתר PrintMyBingo. השימוש באתר ובכל השירותים הכלולים בו מעיד על הסכמתך לתנאים הבאים:</p>
                               <ul class="list-disc list-inside space-y-2">
                                 <li><strong>מהות האתר:</strong> האתר מופעל על ידי אדם פרטי כשירות חינמי לקהל הרחב, במטרה לעודד פעילות חברתית וחינוכית.</li>
                                 <li><strong>זכויות יוצרים ושימוש:</strong> התוצרים המופקים באתר (כרטיסי הבינגו) מיועדים לשימוש אישי, כיתתי, חינוכי או חברתי. מותר להדפיס ולהפיץ את הכרטיסים במסגרת פעילויות אלו ללא הגבלה. עם זאת, אין למכור את הקבצים הנוצרים באתר או להציע שירותי הפקה בתשלום המבוססים על הכלי האוטומטי שלנו ללא קבלת אישור בכתב.</li>
                                 <li><strong>היעדר אחריות:</strong> השירות ניתן כמות שהוא (As Is). מפעיל האתר משקיע מאמצים רבים בתקינות המערכת, אך אינו נושא באחריות לכל תקלה טכנית, שגיאה בנתונים, או נזק (ישיר או עקיף) העלול להיגרם כתוצאה מהשימוש באתר או מהסתמכות על התוצרים שלו.</li>
                                 <li><strong>פרסומות:</strong> האתר מציג פרסומות (כגון Google AdSense) כדי לממן את עלויות התחזוקה והשרתים.</li>
                               </ul>`,
                contactTitle: 'נשמח לשמוע מכם',
                contactContent: `<p>אנחנו כאן בשבילכם! יש לכם רעיון לשיפור? מצאתם באג? או שסתם בא לכם לפרגן?</p>
                                 <p>אנו ב-PrintMyBingo מאמינים שהמשתמשים שלנו הם השותפים הטובים ביותר לדרך. כל משוב מתקבל בברכה ונבדק ברצינות.</p>
                                 <p class="font-bold text-blue-600 mt-4">ניתן ליצור איתנו קשר באמצעות הדואר האלקטרוני: havivontm@gmail.com</p>
                                 <p>אנו משתדלים לענות לכל פנייה בהקדם האפשרי. תודה שבחרתם להשתמש בכלי שלנו!</p>`
            },
            en: {
                tagline: 'The easiest way to create printable bingo cards',
                navHome: 'Home', navAbout: 'About', navTerms: 'Terms', navContact: 'Contact',
                boardSizeLabel: 'Board Size', emptyCardsLabel: 'Empty Cards', no: 'No', yes: 'Yes',
                maxNumberLabel: 'Number Range (1-90)', centerOptionLabel: 'Center Cell',
                centerOptionNumber: 'Standard Number', centerOptionBlank: 'Blank', totalCardsLabel: 'Total Cards',
                cardsPerPageLabel: 'Cards Per Page', headerColorLabel: 'Header Color',
                columnTitlesLabel: 'Column Titles', generateButton: 'Generate Bingo Cards',
                resetButton: 'Reset', printButton: 'Print / Save as PDF',
                initialMessage: 'Select settings and click "Generate Bingo Cards" to start.',
                seoTitle: 'Guide: How to Create and Print a Bingo Game Easily?',
                seoContent: `<p>Bingo is one of the most classic and beloved games in the world, suitable for all ages - from kindergarten children to adults at corporate events. Our free tool, PrintMyBingo, was developed to allow you to create designed and customized game cards in seconds, without any technical knowledge or software downloads.</p>
                             <h3 class="font-bold text-lg mt-4 text-gray-800">Why Use Our Bingo Generator?</h3>
                             <p>While you can buy ready-made bingo games in stores, creating a custom game upgrades the experience. Our system allows full control over the game features: choosing the board size (3x3 for toddlers, 4x4, or 5x5 for pro play), setting the number range according to the difficulty level, and even changing the titles at the top of the table to names, lesson topics, or any other word.</p>
                             <h3 class="font-bold text-lg mt-4 text-gray-800">Steps to Create the Game:</h3>
                             <ul class="list-disc list-inside space-y-1">
                                <li>Choose your desired board size (e.g., 5x5).</li>
                                <li>Set the number of cards you want to generate (the system ensures each card is unique).</li>
                                <li>Click "Generate Bingo Cards" and view the immediate result.</li>
                                <li>Print the boards directly from the browser or save them as a PDF file for sharing.</li>
                             </ul>
                             <p class="mt-4">Our site is specifically optimized for teachers, parents, and event planners looking for a quick, aesthetic, and free solution for social bonding activities. We ensure the design is clean and convenient for ink-saving home printing.</p>`,
                aboutTitle: 'About PrintMyBingo',
                aboutContent: `<p>Welcome to PrintMyBingo, the leading and most advanced platform for creating social games and printable bingo cards. Our mission is to simplify the process of preparing social activities and make it accessible, fast, and fun for everyone.</p>
                               <p>The site was born out of a real need from educators and parents for a simple tool that requires no registration or payment, yet still provides professional results. We are proud to serve thousands of users who produce cards for school lessons, birthday parties, corporate team-building events, and family activities.</p>
                               <p>The algorithm we developed ensures absolute randomness in building the boards, making the chance of identical cards virtually zero, which guarantees a fair and exciting game for all participants. We continue to upgrade the system based on your feedback and the changing needs of our audience.</p>`,
                termsTitle: 'Terms of Use',
                termsContent: `<p>Welcome to PrintMyBingo. By using this site and any of its services, you agree to the following terms:</p>
                               <ul class="list-disc list-inside space-y-2">
                                 <li><strong>Nature of the Site:</strong> The site is operated by a private individual as a free service to the general public, aiming to encourage social and educational activities.</li>
                                 <li><strong>Copyright and Usage:</strong> The products generated on the site (Bingo cards) are intended for personal, classroom, educational, or social use. You may print and distribute the cards within these activities without limitation. However, selling the files generated on the site or offering paid production services based on our automated tool is prohibited without written permission.</li>
                                 <li><strong>Disclaimer:</strong> The service is provided "As Is". The site operator makes great efforts for system integrity but is not liable for any technical malfunctions, data errors, or damages resulting from the use of the site.</li>
                                 <li><strong>Advertisements:</strong> This site displays advertisements (such as Google AdSense) to fund maintenance and server costs.</li>
                               </ul>`,
                contactTitle: 'We\'d Love to Hear From You',
                contactContent: `<p>We are here for you! Have an idea for improvement? Found a bug? Or just want to give some feedback?</p>
                                 <p>At PrintMyBingo, we believe our users are our best partners. Every piece of feedback is welcomed and seriously reviewed.</p>
                                 <p class="font-bold text-blue-600 mt-4">You can contact us via email: havivontm@gmail.com</p>
                                 <p>We try to respond to every inquiry as soon as possible. Thank you for choosing our tool!</p>`
            }
        };

        let currentLang = 'he';

        function initLanguage() {
            const browserLang = navigator.language || navigator.userLanguage;
            currentLang = browserLang.startsWith('he') ? 'he' : 'en';
            applyLanguage();
        }

        function showSection(id) {
            document.querySelectorAll('.page-section').forEach(s => s.classList.remove('active-section'));
            document.getElementById('section-' + id).classList.add('active-section');
            document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
            document.getElementById('nav-' + id).classList.add('active');
            window.scrollTo(0, 0);
        }

        function toggleLanguage() {
            currentLang = currentLang === 'he' ? 'en' : 'he';
            applyLanguage();
        }

        function applyLanguage() {
            document.documentElement.dir = currentLang === 'he' ? 'rtl' : 'ltr';
            document.getElementById('lang-button').textContent = currentLang === 'he' ? 'English' : 'עברית';
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (TRANSLATIONS[currentLang][key]) el.innerHTML = TRANSLATIONS[currentLang][key];
            });
            document.getElementById('seo-content-area').innerHTML = TRANSLATIONS[currentLang].seoContent;
            document.getElementById('about-content-area').innerHTML = TRANSLATIONS[currentLang].aboutContent;
            document.getElementById('terms-content-area').innerHTML = TRANSLATIONS[currentLang].termsContent;
            document.getElementById('contact-content-area').innerHTML = TRANSLATIONS[currentLang].contactContent;
            updateColumnInputs();
        }

        function handleBoardSizeChange() {
            const size = document.getElementById('boardSize').value;
            const centerSelect = document.getElementById('centerOption');
            if (size === "4") {
                centerSelect.value = "number";
                centerSelect.disabled = true;
            } else {
                centerSelect.disabled = false;
            }
            updateColumnInputs();
        }

        function toggleMaxNumberInput() {
            document.getElementById('maxNumberInput').disabled = document.getElementById('emptyCardsOption').value === 'yes';
        }

        function updateColumnInputs() {
            const size = parseInt(document.getElementById('boardSize').value);
            const container = document.getElementById('columnInputsContainer');
            container.innerHTML = '';
            const defaults = size == 5 ? ['B','I','N','G','O'] : (size == 4 ? ['B','I','N','G'] : ['B','N','G']);
            for (let i = 0; i < size; i++) {
                container.innerHTML += `<input type="text" id="colTitle${i}" value="${defaults[i]}" maxlength="5" class="w-full p-2 border rounded-lg text-center font-bold">`;
            }
        }

        function updateGlobalColor(val) { document.documentElement.style.setProperty('--header-color', val); }
        function updatePrintLayout() { document.body.className = `print-${document.getElementById('cardsPerPage').value}`; }

        function generateAllCards() {
            const size = parseInt(document.getElementById('boardSize').value);
            const total = parseInt(document.getElementById('totalCards').value);
            const maxNum = parseInt(document.getElementById('maxNumberInput').value);
            const centerOpt = document.getElementById('centerOption').value;
            const isEmpty = document.getElementById('emptyCardsOption').value === 'yes';
            
            updatePrintLayout();
            const container = document.getElementById('output-container');
            container.innerHTML = '';
            document.getElementById('initial-message').classList.add('hidden');
            document.getElementById('print-controls').classList.remove('hidden');

            const rangePerCol = Math.floor(maxNum / size);

            for (let i = 1; i <= total; i++) {
                const cardDiv = document.createElement('div');
                cardDiv.className = 'bingo-card p-4';
                let titles = [];
                for(let t=0; t<size; t++) titles.push(document.getElementById(`colTitle${t}`).value);

                let cardColumns = [];
                for (let c = 0; c < size; c++) {
                    let colNums = [];
                    if (!isEmpty) {
                        let min = (c * rangePerCol) + 1;
                        let max = (c === size - 1) ? maxNum : (c + 1) * rangePerCol;
                        let pool = [];
                        for (let n = min; n <= max; n++) pool.push(n);
                        for (let j = 0; j < size; j++) {
                            const rIdx = Math.floor(Math.random() * pool.length);
                            colNums.push(pool.splice(rIdx, 1)[0]);
                        }
                        colNums.sort((a, b) => a - b);
                    } else { colNums = new Array(size).fill(""); }
                    cardColumns.push(colNums);
                }

                let tableHtml = `<div class="text-center font-bold mb-2 text-gray-400"># ${i}</div><table class="bingo-table"><thead><tr>`;
                titles.forEach(t => tableHtml += `<th>${t}</th>`);
                tableHtml += `</tr></thead><tbody>`;

                const centerIdx = Math.floor(size / 2);
                for (let r = 0; r < size; r++) {
                    tableHtml += `<tr>`;
                    for (let c = 0; c < size; c++) {
                        const isCenter = (size !== 4 && r === centerIdx && c === centerIdx);
                        let cellContent = cardColumns[c][r];
                        if (isCenter) {
                            if (centerOpt === 'free') cellContent = "FREE";
                            else if (centerOpt === 'blank') cellContent = "";
                        }
                        tableHtml += `<td class="${isCenter && centerOpt === 'free' ? 'free-cell' : ''}">${cellContent}</td>`;
                    }
                    tableHtml += `</tr>`;
                }
                tableHtml += `</tbody></table>`;
                cardDiv.innerHTML = tableHtml;
                container.appendChild(cardDiv);
            }
            window.scrollTo({ top: document.getElementById('result-anchor').offsetTop, behavior: 'smooth' });
        }

        function resetSettings() { location.reload(); }
        window.onload = initLanguage;
    </script>
</body>
</html>
